<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <style>
        p {
            font-size: 24px;
        }

        div {
            font-size: 50px;
        }

        table {
            font-size: 24px;
            border: 2px solid black;
            border-collapse: collapse;
        }

        tr {
            border: 2px solid black;
        }

        td {
            border: 2px solid black;
            min-width: 100px;
        }
    </style>
</head>

<body>
    <div id="output"></div>
    <script>
        //model
        var dice = ['', '⚀', '⚁', '⚂', '⚃', '⚄', '⚅'];
        var outputDiv = document.getElementById('output');
        let thrownDice = [];
        let player1 = "";
        let player2 = "";
        let enere = 0;
        let toere = 0;
        let treere = 0;
        let firere = 0;
        let femmere = 0;
        let seksere = 0;
        let bonus = 0;
        let sumOfSingles = 0;

        showHtml();

        //view


        function showHtml() {
            var html = `
                                    <button id="throwDiceButton" onclick = "throwDice()">Trykk på meg for å kaste terninger!</button>
                                    <div id="diceOutput">${thrownDice.map(n => dice[n])}</div>
                                    <p>Spiller 1:<input id="player1" type="text"/></p>
                                    <p>Spiller 2:<input id="player2" type="text"/></p>
                                    <button onclick=addPlayers()>Trykk for å legge til spiller!</button>
                                    `;
            outputDiv.innerHTML = html;
            drawBoard();
        }

        function drawBoard() {
            boardHtml = `
                                    <table>
                                            <tr><td>Navn</td><td>${player1}</td><td>${player2}</td></tr>

                                            <tr><td>Enere</td><td>${enere}</td><td></td></tr>
                                            <tr><td>Toere</td><td>${toere}</td><td></td></tr>
                                            <tr><td>Treere</td><td>${treere}</td><td></td></tr>
                                            <tr><td>Firere</td><td>${firere}</td><td></td></tr>
                                            <tr><td>Femmere</td><td>${femmere}</td><td></td></tr>

                                            <tr><td>Seksere</td><td>${seksere}</td><td></td></tr>
                                            <tr><td>Sum</td><td>${sumOfSingles}</td><td></td></tr>
                                            <tr><td>Bonus</td><td>${bonus}</td><td></td></tr>
                                            <tr><td>Ett par</td><td></td><td></td></tr>
                                            <tr><td>To par</td><td></td><td></td></tr>
                                            <tr><td>Tre like</td><td></td><td></td></tr>
                                            <tr><td>Fire like </td><td></td><td></td></tr>

                                            <tr><td>Liten straight</td><td></td><td></td></tr>
                                            <tr><td>Stor Straight</td><td></td><td></td></tr>
                                            <tr><td>Hus</td><td></td><td></td></tr>
                                            <tr><td>Sjanse</td><td></td><td></td></tr>
                                            <tr><td>YATZIII</td><td></td><td></td></tr>
                                            <tr><td>TotalSum</td><td></td><td></td></tr>
                                `;
            sumAll();
            outputDiv.innerHTML += boardHtml;
        }
        //controll
        function throwDice() {
            thrownDice = [];
            let sumEnere = 0;
            let sumToere = 0;
            let sumTreere = 0;
            let sumFirere = 0;
            let sumFemmere = 0;
            let sumSeksere = 0;
            for (let i = 0; i < 5; i++) {
                thrownDice.push(Math.floor((Math.random() * 6) + 1));
                if (thrownDice[i] == 1) sumEnere++;
                if (thrownDice[i] == 2) sumToere++;
                if (thrownDice[i] == 3) sumTreere++;
                if (thrownDice[i] == 4) sumFirere++;
                if (thrownDice[i] == 5) sumFemmere++;
                if (thrownDice[i] == 6) sumSeksere++;
            }

            enere += 1 * sumEnere;
            toere += 2 * sumToere;
            treere += 3 * sumTreere;
            firere += 4 * sumFirere;
            femmere += 5 * sumFemmere;
            seksere += 6 * sumSeksere;

            sumAll();
            addSumWithBonus();
            showHtml();
        }
        function sumAll() {
            sumOfSingles = enere + toere + treere + firere + femmere + seksere;
            
        }

          function addSumWithBonus() {
            if (sumOfSingles > 63) {
                bonus = 50;
            }
               showHtml();
          }

        function addPlayers() {
            let player1input = document.getElementById('player1');
            let player2input = document.getElementById('player2');
            player1 = player1input.value;
            player2 = player2input.value;
            showHtml();
        }
    </script>
</body>
</html>